# chronos.conf
# Generated by Ansible for {{ansible_fqdn}}

description "Chronos scheduler for Mesos"

start on runlevel [2345]
stop on runlevel [!2345]

respawn
respawn limit 10 5

# Custom local
script
  [ ! -f /etc/default/chronos ]    || . /etc/default/chronos
  exec java \
    ${MEM_OPTS:+$MEM_OPTS} \
    ${LIB_PATH:+-Djava.library.path=$LIB_PATH} \
    ${CHRONOS_JAR:+-cp $CHRONOS_JAR com.airbnb.scheduler.Main} \
    ${ZK_HOSTS:+--zk_hosts "$ZK_HOSTS"} \
    ${MASTER:+--master $MASTER} \
    ${HTTP_PORT:+--http_port $HTTP_PORT} \
    ${HTTPS_PORT:+--https_port $HTTPS_PORT} \
    ${OPTS:+$OPTS}
end script
